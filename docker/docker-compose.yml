# ğŸ³ è¿œç¨‹å¼€å‘ç¯å¢ƒ - Dockeré…ç½®
services:
  app:
    image: ubuntu:22.04
    container_name: ${CONTAINER_NAME:-remote-dev-env}
    ports:
      - "9000:9000" # è°ƒè¯•ç«¯å£
      - "3000:3000" # Node.js
    volumes:
      - /home/zjd/workspace:/workspace
    working_dir: /workspace
    command: >
      bash -c '
        export DEBIAN_FRONTEND=noninteractive &&
        apt-get update &&
        apt-get install -y python3 python3-pip python3-venv curl git vim nano htop wget unzip &&
        curl -fsSL https://deb.nodesource.com/setup_20.x | bash - &&
        apt-get install -y nodejs &&
        npm install -g npm@latest &&
        apt-get clean &&
        rm -rf /var/lib/apt/lists/* &&
        echo "ğŸš€ Python + Node.js å¼€å‘ç¯å¢ƒå·²å‡†å¤‡å°±ç»ªï¼" &&
        while true; do echo "[`date`] ğŸ³ è¿œç¨‹å¼€å‘ç¯å¢ƒè¿è¡Œä¸­"; sleep 30; done
      '
    environment:
      - PYTHONUNBUFFERED=1
      - TERM=xterm-256color
      - http_proxy=${HTTP_PROXY}
      - https_proxy=${HTTPS_PROXY}
      - no_proxy=${NO_PROXY}
    restart: unless-stopped
    networks:
      - dev-network

networks:
  dev-network:
    driver: bridge
